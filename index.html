<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MySQL Ready To-Do App</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- --- Authentication Pages --- -->
  <div id="auth-container" class="page active">
    <section id="login-page" class="auth-form visible">
      <h2>Login</h2>
      <input type="email" id="login-email" placeholder="Email" required>
      <input type="password" id="login-password" placeholder="Password" required>
      <button onclick="handleLogin()">Log In</button>
      <p>Don't have an account? <a href="#" onclick="showSignup()">Sign Up</a></p>
      <p class="error-message" id="login-error"></p>
    </section>

    <section id="signup-page" class="auth-form hidden">
      <h2>Sign Up</h2>
      <input type="email" id="signup-email" placeholder="Email" required>
      <input type="password" id="signup-password" placeholder="Password (Min 6 chars)" required>
      <button onclick="handleSignup()">Sign Up</button>
      <p>Already have an account? <a href="#" onclick="showLogin()">Log In</a></p>
      <p class="error-message" id="signup-error"></p>
    </section>
  </div>

  <!-- --- Main App Pages --- -->
  <div id="app-container" class="page hidden">
    <header>
      <nav>
        <div class="nav-left">
          <button onclick="showPage('home')">ğŸ  Home</button>
          <button onclick="showPage('tasks')">â• Get Started</button>
          <button onclick="showPage('history')">ğŸ“œ History</button>
        </div>
        <div class="nav-right">
          <span class="profile-icon">ğŸ‘¤ <span id="user-email-display">Guest</span></span>
          <button onclick="logout()">Logout</button>
        </div>
      </nav>
    </header>

    <main>
      <p class="api-error-message" id="api-global-error"></p>

      <!-- Home Page -->
      <section id="home-page" class="app-section active-section">
        <h1>Welcome Back!</h1>
        <p>Use the links above to manage your tasks, which are securely stored in MySQL (once backend is connected).</p>
        <a href="#" class="get-started-link" onclick="showPage('tasks')">Get Started &rarr;</a>
      </section>

      <!-- Get Started / Tasks Page -->
      <section id="tasks-page" class="app-section hidden-section">
        <h2>ğŸ“ Your Tasks</h2>
        <div class="add-task-form">
          <input type="text" id="new-task-input" placeholder="Enter new task..." required>
          <button onclick="addTask()">Add Task</button>
        </div>
        <ul id="in-progress-list" class="task-list">
          <p class="loading-message">Loading tasks...</p>
        </ul>
      </section>

      <!-- History Page -->
      <section id="history-page" class="app-section hidden-section">
        <h2>ğŸ“œ Task History</h2>
        <h3>âœ… Completed Tasks</h3>
        <ul id="completed-list" class="task-list history-list"></ul>

        <h3>ğŸ—‘ï¸ Deleted Tasks</h3>
        <ul id="deleted-list" class="task-list history-list"></ul>
      </section>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
